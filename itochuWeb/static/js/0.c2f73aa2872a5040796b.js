webpackJsonp([0],{"3ze2":function(e,t){},"4VVT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),n=a.n(s),i=a("J0Oq"),r=a.n(i),l=a("Vo7i"),o=a("VsUZ"),c={name:"Access",data:function(){return{accessDate:"",curPage:1,pageSize:10,totalPage:0,accessList:[]}},created:function(){this.getAllAccessList(this.curPage,this.pageSize,this.accessDate)},methods:{getAllAccessList:function(e,t,a){var s=this;return r()(n.a.mark(function i(){var r,c,d,p,m;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={accessDate:a,pageNum:e,pageSize:t},n.next=3,Object(l.a)({method:"get",url:o.h},r);case 3:c=n.sent,d=c.data.data,p=d.content,m=d.total,s.accessList=p,s.totalPage=m;case 7:case"end":return n.stop()}},i,s)}))()},changeDate:function(){this.curPage=1,this.getAllAccessList(this.curPage,this.pageSize,this.accessDate)},getCurPage:function(e){this.curPage=e,this.getAllAccessList(this.curPage,this.pageSize,this.accessDate)},importAccess:function(){var e=this;return r()(n.a.mark(function t(){var a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"post",url:o.n},{accessDate:e.accessDate});case 2:a=t.sent,s=a.data.data,window.location.href=s;case 5:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"access"},[s("div",{staticClass:"access_top"},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-date-picker",{staticClass:"date",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"选择日期"},on:{change:e.changeDate},model:{value:e.accessDate,callback:function(t){e.accessDate=t},expression:"accessDate"}})],1),e._v(" "),s("el-col",{attrs:{align:"right",span:12}},[s("el-button",{staticClass:"import add_btn",attrs:{round:""},on:{click:e.importAccess}},[s("img",{attrs:{src:a("4nwv")}}),e._v(" "),s("span",[e._v("批量导出")])])],1)],1)],1),e._v(" "),s("div",{staticClass:"table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.accessList}},[s("el-table-column",{attrs:{type:"index",align:"center",label:"编号",width:"80"}}),e._v(" "),s("el-table-column",{attrs:{prop:"personName",align:"center","min-width":"100",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"staffNumber",align:"center","min-width":"120",label:"员工号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"departmentName",align:"center","min-width":"180",label:"部门"}}),e._v(" "),s("el-table-column",{attrs:{prop:"accessDate",align:"center","min-width":"180",label:"出入时间"}}),e._v(" "),s("el-table-column",{attrs:{prop:"accessPlace",align:"center","min-width":"180",label:"出入点位"}})],1),e._v(" "),s("div",{staticClass:"footer"},[s("el-pagination",{staticClass:"paginator",attrs:{background:"",layout:"prev, pager, next","current-page":e.curPage,"page-size":e.pageSize,total:e.totalPage},on:{"current-change":e.getCurPage,"update:currentPage":function(t){e.curPage=t}}})],1)],1)])},staticRenderFns:[]};var p=a("C7Lr")(c,d,!1,function(e){a("CXCD")},null,null);t.default=p.exports},"4nwv":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAQAAAB5nzR5AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfiDAsNKTIB4CcRAAABJklEQVQ4y+WSTSuEYRSGr3m9E/OhTD6TyULZ8kv4BX6AjaysSWKrSDaSUDJZELG1slBKiq0olBX5KuayIaN53zFs3ffquc+5Op3Tg8Q45aRDBnH1OCzroqpTJn8Dpl3xU/PWVgtmLKjrnntlQV02Ww3Y6Ia6Zs4jL807rm7Z9hOYc1NdMCueeWOLOKru21EJbHZHnTYU8dRr20UcVg/tigd31QlrPl5fIA6qx2a+ekNKtcc2M0i55riji2JJYrxLJ5Y54I/6H2CKhthagkREniBHXcAsB+QjwSQpXiLybk4YC+mkhUYuIhpGqOc2Im+ilc4QeeMxcmIhZoVHihjyTJpewshtoiQ9JHlKOMASrzxUfd8iWQL6Q1Z5o4/0tw9cSQH3FNh+ByfASI9aNw49AAAAAElFTkSuQmCC"},"5Wyb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),n=a.n(s),i=a("J0Oq"),r=a.n(i),l=a("Vo7i"),o=a("vvLd"),c=a.n(o),d=a("VsUZ"),p={name:"userList",data:function(){return{companyVal:"",companyValId:"",departmentVal:"",uploadpicVal:"",searchText:"",company:[],department:[],pageSize:10,curPage:1,totalPage:0,showBulkUpload:!0,pictures:[{picId:"1",label:"已上传照片"},{picId:"2",label:"未上传照片"}],listData:[],editInfo:!1,uploadNeedId:"",checked:{personId:"",auditStatus:2},picValue:"",personIds:[],vals:[],type:""}},created:function(){this.getAllUserList(this.curPage,this.pageSize,this.companyValId,this.departmentVal,this.uploadpicVal,this.searchText)},mounted:function(){this.getadminType(),this.getCompanyList(),this.getAparmentList()},methods:{getadminType:function(){var e=this;return r()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"get",url:d.g});case 2:a=t.sent,e.type=a.data.data.type,1!=e.type&&(e.companyVal=a.data.data.companyName,e.companyValId=a.data.data.companyId,e.showBulkUpload=!1);case 5:case"end":return t.stop()}},t,e)}))()},companyChange:function(){this.companyValId=this.companyVal},operation:function(e,t){var a=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(l.a)({method:"post",url:d.s},{personId:e,auditStatus:t});case 2:s.sent,a.getAllUserList(a.curPage,a.pageSize,a.companyValId,a.departmentVal,a.uploadpicVal,a.searchText);case 4:case"end":return s.stop()}},s,a)}))()},handleSelection:function(e){var t=this;""!=e?e.map(function(e,a){1===e.auditStatus&&(e.checked=!0,t.personIds.push(e.personId))}):this.listData.forEach(function(e){e.checked=!1})},changePassOrReject:function(e){e.checked&&this.personIds.push(e.personId)},bulkPass:function(){var e=this;return r()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"post",url:d.t},{personIds:e.personIds,auditStatus:"2"});case 2:t.sent,e.getAllUserList(e.curPage,e.pageSize,e.companyValId,e.departmentVal,e.uploadpicVal,e.searchText);case 4:case"end":return t.stop()}},t,e)}))()},bulkReject:function(){var e=this;return r()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"post",url:d.t},{personIds:e.personIds,auditStatus:"3"});case 2:t.sent,e.getAllUserList(e.curPage,e.pageSize,e.companyValId,e.departmentVal,e.uploadpicVal,e.searchText);case 4:case"end":return t.stop()}},t,e)}))()},amendUploadPic:function(e,t){this.uploadNeedId=t;var a=e.target.files||e.dataTransfer.files;a.length&&(this.picValue=a[0],this.imgPreview(this.picValue))},imgPreview:function(e){var t=this,a=void 0;if(c.a.getData(e,function(){a=c.a.getTag(this,"Orientation")}),e&&window.FileReader&&/^image/.test(e.type)){var s=new FileReader;s.readAsDataURL(e),s.onloadend=function(){var e=this.result,s=new Image;s.src=e,this.result.length<=102400?t.postImg(this.result):s.onload=function(){var e=t.compress(s,a);t.postImg(e)}}}},postImg:function(e){var t=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.a)({url:d.y,method:"post"},{file:e,personId:t.uploadNeedId});case 2:a.sent,t.getAllUserList(t.curPage,t.pageSize,t.companyValId,t.departmentVal,t.uploadpicVal,t.searchText);case 4:case"end":return a.stop()}},a,t)}))()},rotateImg:function(e,t,a){if(null!=e){var s=e.height,n=e.width,i=2;null==i&&(i=0),"right"===t?++i>3&&(i=0):--i<0&&(i=3);var r=90*i*Math.PI/180,l=a.getContext("2d");switch(i){case 0:a.width=n,a.height=s,l.drawImage(e,0,0);break;case 1:a.width=s,a.height=n,l.rotate(r),l.drawImage(e,0,-s);break;case 2:a.width=n,a.height=s,l.rotate(r),l.drawImage(e,-n,-s);break;case 3:a.width=s,a.height=n,l.rotate(r),l.drawImage(e,-n,0)}}},compress:function(e,t){var a=document.createElement("canvas"),s=a.getContext("2d"),n=document.createElement("canvas"),i=n.getContext("2d"),r=e.width,l=e.height,o=void 0;(o=r*l/4e6)>1?(r/=o=Math.sqrt(o),l/=o):o=1,a.width=r,a.height=l,s.fillStyle="#fff",s.fillRect(0,0,a.width,a.height);var c=void 0;if((c=r*l/1e6)>1){var d=~~(r/(c=~~(Math.sqrt(c)+1))),p=~~(l/c);n.width=d,n.height=p;for(var m=0;m<c;m++)for(var u=0;u<c;u++)i.drawImage(e,m*d*o,u*p*o,d*o,p*o,0,0,d,p),s.drawImage(n,m*d,u*p,d,p)}else s.drawImage(e,0,0,r,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var h=a.toDataURL("image/jpeg",.1);return n.width=n.height=a.width=a.height=0,h},sendLink:function(e){var t=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.a)({method:"post",url:d.r},{perosnId:e});case 2:a.sent,t.$message({message:"发送链接成功",type:"success"});case 4:case"end":return a.stop()}},a,t)}))()},getAllUserList:function(e,t,a,s,i,o){var c=this;return r()(n.a.mark(function r(){var p,m;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return p={personType:1,pageNum:e,pageSize:t,companyId:a,departmentId:s,imgType:i,personName:o},n.next=3,Object(l.a)({method:"get",url:d.j},p);case 3:(m=n.sent).data.data.content.map(function(e,t){return e.checked=!1}),c.listData=m.data.data.content,c.totalPage=m.data.data.total;case 7:case"end":return n.stop()}},r,c)}))()},getCompanyList:function(){var e=this;return r()(n.a.mark(function t(){var a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"get",url:d.l});case 2:a=t.sent,s=a.data.data,e.company=s;case 5:case"end":return t.stop()}},t,e)}))()},getAparmentList:function(e){var t=this;return r()(n.a.mark(function a(){var s,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.a)({method:"get",url:d.k},{companyId:e});case 2:s=a.sent,i=s.data.data,t.department=i;case 5:case"end":return a.stop()}},a,t)}))()},filteSearch:function(){this.curPage=1,this.getAllUserList(this.curPage,this.pageSize,this.companyValId,this.departmentVal,this.uploadpicVal,this.searchText)},getCurPage:function(e){this.curPage=e,this.getAllUserList(this.curPage,this.pageSize,this.companyValId,this.departmentVal,this.uploadpicVal,this.searchText)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_list"},[s("div",{staticClass:"userlist_top"},[s("el-row",[s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"select",attrs:{disabled:1!=e.type,clearable:!0,placeholder:"选择公司"},on:{change:e.companyChange},model:{value:e.companyVal,callback:function(t){e.companyVal=t},expression:"companyVal"}},e._l(e.company,function(e){return s("el-option",{key:e.companyId,attrs:{label:e.attendanceAddressName,size:"small",value:e.companyId}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"select",attrs:{clearable:!0,placeholder:"选择部门"},model:{value:e.departmentVal,callback:function(t){e.departmentVal=t},expression:"departmentVal"}},e._l(e.department,function(e){return s("el-option",{key:e.departMentId,attrs:{label:e.departmentName,size:"small",value:e.departMentId}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"select uploadPic",attrs:{clearable:!0,placeholder:"选择照片"},model:{value:e.uploadpicVal,callback:function(t){e.uploadpicVal=t},expression:"uploadpicVal"}},e._l(e.pictures,function(e){return s("el-option",{key:e.picId,attrs:{label:e.label,size:"small",value:e.picId}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("el-input",{staticClass:"select",attrs:{placeholder:"搜索员工姓名"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[s("i",{staticClass:"search",attrs:{slot:"suffix"},on:{click:e.filteSearch},slot:"suffix"},[s("img",{attrs:{src:a("Y3P3")}})])])],1),e._v(" "),s("el-col",{attrs:{span:4,offset:1}},[e.showBulkUpload?s("el-upload",{staticClass:"upload-demo",attrs:{name:"excelFile",multiple:!1,action:"/itochuweb/importPersonExcel"}},[s("el-button",{staticClass:"import",attrs:{size:"small",icon:"el-icon-upload2",type:"primary"}},[e._v("批量上传")])],1):e._e()],1)],1)],1),e._v(" "),s("div",{staticClass:"table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listData},on:{"selection-change":e.handleSelection}},[s("el-table-column",{attrs:{fixed:"",align:"center",type:"selection",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.auditStatus?s("el-checkbox",{on:{change:function(a){e.changePassOrReject(t.row)}},model:{value:t.row.checked,callback:function(a){e.$set(t.row,"checked",a)},expression:"scope.row.checked"}}):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"center",type:"index",label:"编号",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{align:"center",width:"160",label:"照片"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{staticStyle:{left:"249px"},attrs:{trigger:"hover",placement:"right"}},[s("div",{staticClass:"popover_box"},[s("div",{staticClass:"pic-box"},[s("img",{staticClass:"pic",attrs:{src:t.row.distinguishImgUrl}})]),e._v(" "),s("div",{staticClass:"sepreate"},[1==t.row.auditStatus?s("div",{staticClass:"checkPicdiv"},[s("p",{staticClass:"tip"},[s("el-button",{attrs:{type:"primary"},on:{click:function(a){e.operation(t.row.personId,"2")}}},[e._v("同意")]),e._v(" "),s("el-button",{staticClass:"tip_turndown",on:{click:function(a){e.operation(t.row.personId,"3")}}},[e._v("驳回")])],1)]):e._e(),e._v(" "),2==t.row.auditStatus?s("div",{staticClass:"checkPicdiv "},[s("el-button",{staticClass:"butt",attrs:{type:"primary",size:"mini",round:""}},[e._v("\n                          修改头像\n                          "),s("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){e.amendUploadPic(a,t.row.personId)}}})]),e._v(" "),s("p",{staticClass:"tipPic"},[e._v("请上传正面未经ps照片")])],1):e._e(),e._v(" "),3==t.row.auditStatus?s("div",{staticClass:"checkPicdiv"},[s("el-button",{staticClass:"butt",attrs:{type:"primary",size:"mini",round:""}},[e._v("\n                          修改头像\n                          "),s("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){e.amendUploadPic(a,t.row.personId)}}})]),e._v(" "),s("p",{staticClass:"tipPic"},[e._v("请上传正面未经ps照片")])],1):e._e(),e._v(" "),4==t.row.auditStatus?s("div",{staticClass:"checkPicdiv"},[s("el-button",{staticClass:"butt",attrs:{type:"primary",size:"mini",round:""}},[e._v("\n                          修改头像\n                          "),s("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){e.amendUploadPic(a,t.row.personId)}}})]),e._v(" "),s("p",{staticClass:"tipPic"},[e._v("请上传正面未经ps照片")])],1):e._e()])]),e._v(" "),1==t.row.auditStatus?s("div",{staticClass:"clickChecked",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"checkPic"},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.row.distinguishImgUrl}})])]):e._e(),e._v(" "),2==t.row.auditStatus?s("div",{attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"checkPicStatus"},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.row.distinguishImgUrl}})])]):e._e(),e._v(" "),3==t.row.auditStatus?s("div",{staticClass:"reject",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"checkPicaudit"},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.row.distinguishImgUrl}})])]):e._e(),e._v(" "),4==t.row.auditStatus?s("div",{attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"checkPicStatus"},[s("img",{staticStyle:{width:"100%"},attrs:{src:""}})])]):e._e()])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"personName",label:"姓名",align:"center",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"departmentName",label:"部门",align:"center",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center",width:"160"}}),e._v(" "),s("el-table-column",{attrs:{prop:"staffNumber",width:"100",align:"center",label:"工号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"personalMail",align:"center",label:"个人邮箱"}}),e._v(" "),s("el-table-column",{attrs:{prop:"companyMail",align:"center",label:"公司邮箱"}}),e._v(" "),s("el-table-column",{attrs:{prop:"companyName",align:"center",width:"300",label:"考勤地点"}}),e._v(" "),s("el-table-column",{attrs:{fixed:"right",align:"center",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.sendLink(t.row.personId)}}},[e._v("发送链接")])]}}])})],1),e._v(" "),s("div",{staticClass:"footer"},[s("div",{staticClass:"bulk"},[s("el-button",{attrs:{size:"mini"},on:{click:e.bulkPass}},[e._v("审批通过")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.bulkReject}},[e._v("审批驳回")])],1),e._v(" "),s("el-pagination",{staticClass:"paginator",attrs:{background:"",layout:"prev, pager, next","current-page":e.curPage,"page-size":e.pageSize,total:e.totalPage},on:{"current-change":e.getCurPage,"update:currentPage":function(t){e.curPage=t}}})],1)],1)])},staticRenderFns:[]};var u=a("C7Lr")(p,m,!1,function(e){a("Jqle")},null,null);t.default=u.exports},"5YFt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),n=a.n(s),i=a("J0Oq"),r=a.n(i),l=a("4YfN"),o=a.n(l),c=a("Vo7i"),d=a("VsUZ"),p={name:"Right",data:function(){return{addAdmin:!1,showAmendDialog:!1,companys:[],curPage:1,pageSize:10,totalPage:0,adminListData:[],amendAdminForm:{userName:"",email:"",phone:"",companyName:"",userNumber:"",password:""},amendNeedCondition:{userId:"",companyId:""},addAdminForm:{userName:"",email:"",phone:"",companyName:"",userNumber:"",password:""},rules:{userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],email:[{validator:function(e,t,a){!function(e,t,a){/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(t)?a():a(new Error("请输入正确的邮箱格式"))}(0,t,a)},trigger:"blur"}],phone:[{validator:function(e,t,a){!function(e,t,a){/^1[34578]\d{9}$/.test(t)?a():a(new Error("请输入正确的手机格式"))}(0,t,a)},trigger:"blur"}],companyName:[{required:!0,message:"请输入归属地",trigger:"change"}],userNumber:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){this.getAdminList(this.curPage,this.pageSize)},mounted:function(){this.getAllCompany()},methods:{changeamendCondtion:function(){this.amendNeedCondition.companyId=this.amendAdminForm.companyName},changeCondition:function(){this.amendNeedCondition.companyId=this.addAdminForm.companyName},addadminUser:function(){var e=this;this.$refs.addAdminForm.validate(function(t){if(!t)return!1;Object(c.a)({method:"post",url:d.a},o()({},e.amendNeedCondition,e.addAdminForm)).then(function(t){e.addAdmin=!1,e.curPage=1,e.getAdminList(e.curPage,e.pageSize),e.$refs.addAdminForm.resetFields()})})},cancleAddAdmin:function(){this.$refs.addAdminForm.resetFields(),this.addAdmin=!1},deleteAdmin:function(e){var t=this;this.$confirm("您是否确定删除该管理员?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(c.a)({method:"post",url:d.c},{userId:e}).then(function(e){t.curPage=1,t.getAdminList(t.curPage,t.pageSize),t.$message({type:"success",message:"删除成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},amendAdmin:function(e){var t=this;this.showAmendDialog=!0,Object(c.a)({method:"get",url:d.e},{userId:e.userId}).then(function(e){var a=e.data.data;t.amendAdminForm.userName=a.userName,t.amendAdminForm.phone=a.phone,t.amendAdminForm.userNumber=a.userNumber,t.amendAdminForm.email=a.email,t.amendAdminForm.companyName=a.companyName,t.amendAdminForm.password=a.password,t.amendNeedCondition.companyId=a.companyId,t.amendNeedCondition.userId=a.userId})},cancleAmendAdmin:function(){this.showAmendDialog=!1},getAllCompany:function(){var e=this;return r()(n.a.mark(function t(){var a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)({method:"get",url:d.l});case 2:a=t.sent,s=a.data.data,e.companys=s;case 5:case"end":return t.stop()}},t,e)}))()},amendAdminUser:function(){var e=this;this.$refs.amendAdminForm.validate(function(t){if(!t)return!1;Object(c.a)({method:"post",url:d.v},o()({},e.amendNeedCondition,e.amendAdminForm)).then(function(t){e.showAmendDialog=!1,e.getAdminList(e.curPage,e.pageSize)})})},getAdminList:function(e,t){var a=this;return r()(n.a.mark(function s(){var i,r,l,o,p;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i={pageNum:e,pageSize:t},s.next=3,Object(c.a)({method:"get",url:d.f},i);case 3:r=s.sent,l=r.data.data,o=l.content,p=l.total,a.adminListData=o,a.totalPage=p;case 7:case"end":return s.stop()}},s,a)}))()},getCurPage:function(e){this.curPage=e,this.getAdminList(this.curPage,this.pageSize)},addhandleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){e(),t.$refs.addAdminForm.resetFields()}).catch(function(e){})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right"},[a("div",{staticClass:"right_top"},[a("el-row",[a("el-col",{attrs:{align:"right",span:24}},[a("el-button",{staticClass:"import add_btn",attrs:{round:""},on:{click:function(t){e.addAdmin=!0}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("span",[e._v("添加管理员")])])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.adminListData}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"编号",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",align:"center",width:"100",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",align:"center",width:"300",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",width:"210",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userNumber",align:"center",width:"210",label:"账号 "}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",align:"center",width:"210",label:"密码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyName",align:"center",label:"归属地"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.amendAdmin(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteAdmin(t.row.userId)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改管理员信息",visible:e.showAmendDialog,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.showAmendDialog=t}}},[a("el-form",{ref:"amendAdminForm",attrs:{rules:e.rules,model:e.amendAdminForm}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"userName"}},[a("h3",{staticClass:"title"},[e._v("姓名")]),e._v(" "),a("el-input",{model:{value:e.amendAdminForm.userName,callback:function(t){e.$set(e.amendAdminForm,"userName",t)},expression:"amendAdminForm.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"phone"}},[a("h3",{staticClass:"title"},[e._v("手机号")]),e._v(" "),a("el-input",{model:{value:e.amendAdminForm.phone,callback:function(t){e.$set(e.amendAdminForm,"phone",t)},expression:"amendAdminForm.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"userNumber"}},[a("h3",{staticClass:"title"},[e._v("账号")]),e._v(" "),a("el-input",{model:{value:e.amendAdminForm.userNumber,callback:function(t){e.$set(e.amendAdminForm,"userNumber",t)},expression:"amendAdminForm.userNumber"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"email"}},[a("h3",{staticClass:"title"},[e._v("邮箱")]),e._v(" "),a("el-input",{model:{value:e.amendAdminForm.email,callback:function(t){e.$set(e.amendAdminForm,"email",t)},expression:"amendAdminForm.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"companyName"}},[a("h3",{staticClass:"title"},[e._v("归属地")]),e._v(" "),a("el-select",{staticClass:"address",attrs:{placeholder:"请选择归属地"},on:{change:e.changeamendCondtion},model:{value:e.amendAdminForm.companyName,callback:function(t){e.$set(e.amendAdminForm,"companyName",t)},expression:"amendAdminForm.companyName"}},e._l(e.companys,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.attendanceAddressName,value:e.companyId}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"password"}},[a("h3",{staticClass:"title"},[e._v("密码")]),e._v(" "),a("el-input",{model:{value:e.amendAdminForm.password,callback:function(t){e.$set(e.amendAdminForm,"password",t)},expression:"amendAdminForm.password"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancle_btn",attrs:{size:"mini",round:""},on:{click:e.cancleAmendAdmin}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.amendAdminUser}},[e._v("修 改")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加管理员",visible:e.addAdmin,width:"35%","before-close":e.addhandleClose},on:{"update:visible":function(t){e.addAdmin=t}}},[a("el-form",{ref:"addAdminForm",attrs:{rules:e.rules,model:e.addAdminForm}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"userName"}},[a("h3",{staticClass:"title"},[e._v("姓名")]),e._v(" "),a("el-input",{attrs:{placeholder:"请填写姓名"},model:{value:e.addAdminForm.userName,callback:function(t){e.$set(e.addAdminForm,"userName",t)},expression:"addAdminForm.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"phone"}},[a("h3",{staticClass:"title"},[e._v("手机号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请填写手机号"},model:{value:e.addAdminForm.phone,callback:function(t){e.$set(e.addAdminForm,"phone",t)},expression:"addAdminForm.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"userNumber"}},[a("h3",{staticClass:"title"},[e._v("账号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请填写账号"},model:{value:e.addAdminForm.userNumber,callback:function(t){e.$set(e.addAdminForm,"userNumber",t)},expression:"addAdminForm.userNumber"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"email"}},[a("h3",{staticClass:"title"},[e._v("邮箱")]),e._v(" "),a("el-input",{attrs:{placeholder:"请填写邮箱"},model:{value:e.addAdminForm.email,callback:function(t){e.$set(e.addAdminForm,"email",t)},expression:"addAdminForm.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"companyName"}},[a("h3",{staticClass:"title"},[e._v("归属地")]),e._v(" "),a("el-select",{staticClass:"address",attrs:{placeholder:"请选择归属地"},on:{change:e.changeCondition},model:{value:e.addAdminForm.companyName,callback:function(t){e.$set(e.addAdminForm,"companyName",t)},expression:"addAdminForm.companyName"}},e._l(e.companys,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.attendanceAddressName,value:e.companyId}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"password"}},[a("h3",{staticClass:"title"},[e._v("密码")]),e._v(" "),a("el-input",{attrs:{placeholder:"请创建密码"},model:{value:e.addAdminForm.password,callback:function(t){e.$set(e.addAdminForm,"password",t)},expression:"addAdminForm.password"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancle_btn",attrs:{size:"mini",round:""},on:{click:e.cancleAddAdmin}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.addadminUser}},[e._v("添 加")])],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{staticClass:"paginator",attrs:{background:"",layout:"prev, pager, next","current-page":e.curPage,"page-size":e.pageSize,total:e.totalPage},on:{"current-change":e.getCurPage,"update:currentPage":function(t){e.curPage=t}}})],1)],1)])},staticRenderFns:[]};var u=a("C7Lr")(p,m,!1,function(e){a("3ze2")},null,null);t.default=u.exports},"97YX":function(e,t){},AlRl:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEVmzDNnzDNhzDNazDRV0yxH0iVM1SxI0SlL2CdW0SxZzDNR0ytV1ClV1CpbzDRW0yxX0SxazDNZzDVYyzNnyzRpyzRlyzRU0ytW1CpU1CtO1yhO2CdN1ydL2CZP1S5H0CZQwRNN3S5VsgRKvilQ2ChN1SZK2CdTtAlO2CtD3iBN1ilVsgZF3SFI2iVJvipN2itC3yBJ2yxTtQtN2i1I1hxSyyNHzyZJzSZE2C5N2iNJyyJLyyFK0yxK1CtWpwBWpQBUqQJAv0E+vUM/vkJVqgBWqABRqwNYyTFGxTtDwj0/v0FAwEBRrANayTBX1C5Kzy9GxDpZyTBW1C5M1ihJzypHzypM2ChGxTpQyyFPyB1M1y1M1ChM1ChN1ClN1ClJ0C1c4R5W3B9H0yVN0ihN1ixK0StN1SdK1ydU0ytK1ShL1ShV0ixP0C1P0SxS0ixP1ClM1ydK1SlM1ClL1ydN0ylN1ShSvBNN0iFN2ChN1Clp7BFPxhtN2CpUsQhN1Cpc4h1M1yxK2zVNuhtN1itM1CpI0CxO1SlN1SlM1ClN0ypPtxVM1ytN0ylN1ClM1ChO0ytSsglN1ytN0ylN0ylN1SdO0ytNuRtL2i9M1ipN1ClK1yZP1C5O1ShQtxVM1yxN1SlJ0C1I2SVRxR1d4h1H2ydK1y1M1itc4h5p7BBP0CNP0CZM1itp6xBN1CdN1SpN0ydI2S5N2C1P1idO2iRQzCBL0C9OzipMzy9V1S5K1ChO1idJzy5L1SdP1ChM1ChM1yhY2x9b4R9J0C1O1ClM1ClN0yhb4R9X3B9N2CxN0yhN1ClO1ShJ0SxN1ShO1ClM1ClN1itM2zBN1yxN1CtGzS9M2CxN1SlJ0CxN1ipN2SxN0ylN1ChN1CpP0itO0ypFzS9M1StO1CpN1CdO1ysAAAA40L/wAAAAyHRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALXey3O7u3LJ3LSCi+vqhH17v7110dVpZHvj3HqmnJkgj5iV6+EHdeLT2RAGts9z0a4VDrtvt1HxBr+z8c31EAavsdInyRa7btHUieXMBq3glcSWuJaj7px349x5YWHJzXe7tXB6gnxwsdrDb7dt1LIbLVBUAAAABYktHROQvYjspAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4gwLDSkzducXhwAAAYBJREFUKM9jYGBkYmZhZYuIjIqOiY2LT0hk5+Dk4ubhZQBK8PEnJaecOHkKCE6fSU1LFxCESghlZJ5CAlnZwiAJEVGxnLOnUMC5XHEJCQZeybyz51Elzp/Nl5JmkCkoPIUBioplGeRKUIROXrgAckWpPEPZRRSJS5fLKypPnbpSxVB9FVn8Wk2tgmLdqVPX6xkaTiKZc6OxSam5BeSfVoY2INXe0Qkx52aXsko3mNnD0Ask+1TV+sHmTFDXmHgLLDEJLDF5iqbW1Ns3GqdpT58BNXUmQxyIujNLR3f2nLl6+vNuQyXmMyw4DaLvLjQwXGRkPA/mktPxDIvPgFn3lpiYLl0GU3/qzHKGFfchzAcrV61GOPzKGgaztXcg7IfrkPy53pzBYsNGzEDctNmSwcp6yyO0YD91dquNLYOdvcO2x6jip7c7OjkzuLi6ue/YiSy+a7eHp5c3UMLH12/P3tQzp6GJYd9+/wCoRGBQcMiBg4cO9x45eujY8dAw/3CgBACLCGS+BRysRgAAAABJRU5ErkJggg=="},Bl8W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("4YfN"),n=a.n(s),i=a("lC5x"),r=a.n(i),l=a("J0Oq"),o=a.n(l),c=a("Vo7i"),d=a("vvLd"),p=a.n(d),m=a("VsUZ"),u={name:"userListVip",data:function(){return{companyVal:"",companyValId:"",departmentVal:"",uploadpicVal:"",searchText:"",company:[],department:[],pageSize:10,curPage:1,totalPage:0,showPass:!1,pictures:[{picId:"1",label:"已上传照片"},{picId:"2",label:"未上传照片"}],checkedPicture:!1,checkedamendPicture:!1,headerPic:"",pic:{editheaderPic:""},addSpUserData:[],addSpecialNeedCondition:{companyId:"",departmentId:"",photoUrl:"",personId:""},showaddSpUserDialog:!1,editInfo:!1,addSpecialUserForm:{personName:"",companyName:"",phone:"",companyMail:"",staffNumber:"",departmentName:"",personalMail:""},editSpecialUserForm:{personName:"",companyName:"",phone:"",companyMail:"",staffNumber:"",departmentName:"",personalMail:""},type:"",rules:{personName:[{required:!0,message:"请输入员工姓名",trigger:"blur"}],companyName:[{required:!0,message:"请选择考勤地点",trigger:"blur"}],departmentName:[{required:!0,message:"请选择部门",trigger:"blur"}]},picValue:"",listPicVal:"",uploadNeedId:"",edituploadVal:""}},created:function(){this.getSpecialAllUserList(this.curPage,this.pageSize,this.companyValId,this.departmentVal,this.uploadpicVal,this.searchText)},mounted:function(){this.getadminType(),this.getCompanyList(),this.getAparmentList()},methods:{getadminType:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)({method:"get",url:m.g});case 2:a=t.sent,e.addSpecialNeedCondition.companyId=a.data.data.companyId,e.type=a.data.data.type,1!=e.type&&(e.addSpecialUserForm.companyName=a.data.data.companyName,e.companyVal=a.data.data.companyName,e.companyValId=a.data.data.companyId,e.editSpecialUserForm.companyName=a.data.data.companyName);case 6:case"end":return t.stop()}},t,e)}))()},companyChange:function(){this.companyValId=this.companyVal},amendUploadPic:function(e,t){this.uploadNeedId=t;var a=e.target.files||e.dataTransfer.files;a.length&&(this.listPicVal=a[0],this.imagePreview(this.listPicVal))},imagePreview:function(e){var t=this,a=void 0;if(p.a.getData(e,function(){a=p.a.getTag(this,"Orientation")}),e&&window.FileReader&&/^image/.test(e.type)){var s=new FileReader;s.readAsDataURL(e),s.onloadend=function(){var e=this.result,s=new Image;s.src=e,this.result.length<=102400?t.postImage(this.result):s.onload=function(){var e=t.compress(s,a);t.postImage(e)}}}},postImage:function(e){var t=this;return o()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.a)({url:m.y,method:"post"},{file:e,personId:t.uploadNeedId});case 2:a.sent,t.getSpecialAllUserList(t.curPage,t.pageSize,t.companyVal,t.departmentVal,t.uploadpicVal,t.searchText);case 4:case"end":return a.stop()}},a,t)}))()},operation:function(e,t){var a=this;return o()(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(c.a)({method:"post",url:m.s},{personId:e,auditStatus:t});case 2:s.sent,a.getSpecialAllUserList(a.curPage,a.pageSize,a.companyValId,a.departmentVal,a.uploadpicVal,a.searchText);case 4:case"end":return s.stop()}},s,a)}))()},editUploadFile:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.edituploadVal=t[0],this.editImgPreview(this.edituploadVal))},editImgPreview:function(e){var t=this,a=void 0;if(p.a.getData(e,function(){a=p.a.getTag(this,"Orientation")}),e&&window.FileReader&&/^image/.test(e.type)){var s=new FileReader;s.readAsDataURL(e),s.onloadend=function(){var e=this.result,s=new Image;s.src=e,this.result.length<=102400?t.editPostImg(this.result):s.onload=function(){var e=t.compress(s,a);t.editPostImg(e)}}}},editPostImg:function(e){var t=this;return o()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.a)({url:m.x,method:"post"},{file:e});case 2:s=a.sent,t.pic.editheaderPic=s.data.data,t.addSpecialNeedCondition.photoUrl=s.data.data;case 5:case"end":return a.stop()}},a,t)}))()},uploadFile:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.picValue=t[0],this.imgPreview(this.picValue))},imgPreview:function(e){var t=this,a=void 0;if(p.a.getData(e,function(){a=p.a.getTag(this,"Orientation")}),e&&window.FileReader&&/^image/.test(e.type)){var s=new FileReader;s.readAsDataURL(e),s.onloadend=function(){var e=this.result,s=new Image;s.src=e,this.result.length<=102400?t.postImg(this.result):s.onload=function(){var e=t.compress(s,a);t.postImg(e)}}}},postImg:function(e){var t=this;return o()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("lalalal"),a.next=3,Object(c.a)({url:m.x,method:"post"},{file:e});case 3:s=a.sent,t.headerPic=s.data.data,t.checkedPicture=!1;case 6:case"end":return a.stop()}},a,t)}))()},rotateImg:function(e,t,a){if(null!=e){var s=e.height,n=e.width,i=2;null==i&&(i=0),"right"===t?++i>3&&(i=0):--i<0&&(i=3);var r=90*i*Math.PI/180,l=a.getContext("2d");switch(i){case 0:a.width=n,a.height=s,l.drawImage(e,0,0);break;case 1:a.width=s,a.height=n,l.rotate(r),l.drawImage(e,0,-s);break;case 2:a.width=n,a.height=s,l.rotate(r),l.drawImage(e,-n,-s);break;case 3:a.width=s,a.height=n,l.rotate(r),l.drawImage(e,-n,0)}}},compress:function(e,t){var a=document.createElement("canvas"),s=a.getContext("2d"),n=document.createElement("canvas"),i=n.getContext("2d"),r=e.width,l=e.height,o=void 0;(o=r*l/4e6)>1?(r/=o=Math.sqrt(o),l/=o):o=1,a.width=r,a.height=l,s.fillStyle="#fff",s.fillRect(0,0,a.width,a.height);var c=void 0;if((c=r*l/1e6)>1){var d=~~(r/(c=~~(Math.sqrt(c)+1))),p=~~(l/c);n.width=d,n.height=p;for(var m=0;m<c;m++)for(var u=0;u<c;u++)i.drawImage(e,m*d*o,u*p*o,d*o,p*o,0,0,d,p),s.drawImage(n,m*d,u*p,d,p)}else s.drawImage(e,0,0,r,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var h=a.toDataURL("image/jpeg",.1);return n.width=n.height=a.width=a.height=0,h},cancleAction:function(){this.showaddSpUserDialog=!1,this.checkedPicture=!1,this.headerPic="",this.$refs.addSpecialUserForm.resetFields()},cancleEdit:function(){this.editInfo=!1},locationChange:function(){this.addSpecialNeedCondition.companyId=this.addSpecialUserForm.companyName},locationChangeamend:function(){this.addSpecialNeedCondition.companyId=this.editSpecialUserForm.companyName},departmentChange:function(){this.addSpecialNeedCondition.departmentId=this.addSpecialUserForm.departmentName},departmentChangeAmend:function(){this.addSpecialNeedCondition.departmentId=this.editSpecialUserForm.departmentName},checkEmail:function(e){return!!/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(e)},checkPhone:function(e){return!!/(^1[3-9]\d{9}$)|(^09\d{8}$)/.test(e)},addSpecialPerson:function(){var e=this;return this.addSpecialNeedCondition.photoUrl=this.headerPic,""==this.addSpecialNeedCondition.photoUrl?(this.checkedPicture=!0,!1):(""==this.addSpecialUserForm.companyMail||this.checkEmail(this.addSpecialUserForm.companyMail))&&(""==this.addSpecialUserForm.personalMail||this.checkEmail(this.addSpecialUserForm.personalMail))?""==this.addSpecialUserForm.phone||this.checkPhone(this.addSpecialUserForm.phone)?void this.$refs.addSpecialUserForm.validate(function(t){if(!t)return!1;Object(c.a)({method:"post",url:m.b},n()({},e.addSpecialUserForm,e.addSpecialNeedCondition)).then(function(t){e.showaddSpUserDialog=!1,e.curPage=1,e.getSpecialAllUserList(e.curPage,e.pageSize,e.companyValId,e.departmentVal,e.uploadpicVal,e.searchText),e.addSpecialNeedCondition.photoUrl="",e.$refs.addSpecialUserForm.resetFields(),e.headerPic="",window.location.reload()})}):(this.$message({message:"手机号码格式不正确",type:"warning"}),!1):(this.$message({message:"邮箱格式不正确",type:"warning"}),!1)},amendSpecialUser:function(e){var t=this;return o()(r.a.mark(function a(){var s,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.editInfo=!0,a.next=3,Object(c.a)({method:"get",url:m.m},{personId:e.personId});case 3:s=a.sent,n=s.data.data,t.editSpecialUserForm.personName=n.personName,t.editSpecialUserForm.companyName=n.companyName,t.editSpecialUserForm.phone=n.phone,t.editSpecialUserForm.companyMail=n.companyMail,t.editSpecialUserForm.staffNumber=n.staffNumber,t.editSpecialUserForm.departmentName=n.departmentName,t.editSpecialUserForm.personalMail=n.personalMail,t.addSpecialNeedCondition.photoUrl=n.photoUrl,t.pic.editheaderPic=n.photoUrl,t.addSpecialNeedCondition.companyId=n.companyId,t.addSpecialNeedCondition.departmentId=n.departmentId,t.addSpecialNeedCondition.personId=n.personId,n.photoUrl&&(t.showPass=!0);case 18:case"end":return a.stop()}},a,t)}))()},editSpecialPerson:function(){var e=this;return(""==this.editSpecialUserForm.companyMail||this.checkEmail(this.editSpecialUserForm.companyMail))&&(""==this.editSpecialUserForm.personalMail||this.checkEmail(this.editSpecialUserForm.personalMail))?""==this.editSpecialUserForm.phone||this.checkPhone(this.editSpecialUserForm.phone)?void this.$refs.editSpecialUserForm.validate(function(t){if(!t)return!1;Object(c.a)({method:"post",url:m.w},n()({},e.editSpecialUserForm,e.addSpecialNeedCondition,e.pic)).then(function(t){e.editInfo=!1,e.getSpecialAllUserList(e.curPage,e.pageSize,e.companyValId,e.departmentVal,e.uploadpicVal,e.searchText)})}):(this.$message({message:"手机号码格式不正确",type:"warning"}),!1):(this.$message({message:"邮箱格式不正确",type:"warning"}),!1)},deleteSpecialUser:function(e){var t=this;this.$confirm("您是否确定删除该人员?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(c.a)({method:"post",url:m.d},{personId:e}).then(function(e){t.curPage=1,t.getSpecialAllUserList(t.curPage,t.pageSize,t.companyValId,t.departmentVal,t.uploadpicVal,t.searchText),t.$message({type:"success",message:"删除成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getSpecialAllUserList:function(e,t,a,s,n,i){var l=this;return o()(r.a.mark(function o(){var d,p,u,h;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d={personType:2,pageNum:e,pageSize:t,companyId:a,departmentId:s,imgType:n,personName:i},r.next=3,Object(c.a)({method:"get",url:m.j},d);case 3:p=r.sent,u=p.data.data.content,h=p.data.data.total,l.addSpUserData=u,l.totalPage=h;case 8:case"end":return r.stop()}},o,l)}))()},getCompanyList:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)({method:"get",url:m.l});case 2:a=t.sent,s=a.data.data,e.company=s;case 5:case"end":return t.stop()}},t,e)}))()},getAparmentList:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)({method:"get",url:m.k});case 2:a=t.sent,s=a.data.data,e.department=s;case 5:case"end":return t.stop()}},t,e)}))()},filteSearch:function(){this.curPage=1,this.getSpecialAllUserList(this.curPage,this.pageSize,this.companyValId,this.departmentVal,this.uploadpicVal,this.searchText)},getCurPage:function(e){this.curPage=e,this.getSpecialAllUserList(this.curPage,this.pageSize,this.companyValId,this.departmentVal,this.uploadpicVal,this.searchText)},addhandleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){e(),t.$refs.addSpecialUserForm.resetFields(),t.checkedPicture=!1}).catch(function(e){})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uservip_list"},[s("div",{staticClass:"userlistvip_top"},[s("el-row",[s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"select",attrs:{clearable:!0,disabled:1!=e.type,placeholder:"选择公司"},on:{change:e.companyChange},model:{value:e.companyVal,callback:function(t){e.companyVal=t},expression:"companyVal"}},e._l(e.company,function(e){return s("el-option",{key:e.companyId,attrs:{label:e.attendanceAddressName,size:"small",value:e.companyId}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"select",attrs:{clearable:!0,placeholder:"选择部门"},model:{value:e.departmentVal,callback:function(t){e.departmentVal=t},expression:"departmentVal"}},e._l(e.department,function(e){return s("el-option",{key:e.departMentId,attrs:{label:e.departmentName,size:"small",value:e.departMentId}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"select uploadPic",attrs:{clearable:!0,placeholder:"选择照片"},model:{value:e.uploadpicVal,callback:function(t){e.uploadpicVal=t},expression:"uploadpicVal"}},e._l(e.pictures,function(e){return s("el-option",{key:e.picId,attrs:{label:e.label,size:"small",value:e.picId}})}),1)],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("el-input",{staticClass:"select",attrs:{placeholder:"搜索员工姓名"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[s("i",{staticClass:"search",attrs:{slot:"suffix"},on:{click:e.filteSearch},slot:"suffix"},[s("img",{attrs:{src:a("Y3P3")}})])])],1),e._v(" "),s("el-col",{attrs:{span:4,offset:1}},[s("el-button",{staticClass:"select import",attrs:{round:""},on:{click:function(t){e.showaddSpUserDialog=!0}}},[s("i",{staticClass:"el-icon-plus"}),e._v(" "),s("span",[e._v("添加人员")])])],1)],1)],1),e._v(" "),s("div",{staticClass:"table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addSpUserData}},[s("el-table-column",{attrs:{align:"center",type:"index",label:"编号",width:"80"}}),e._v(" "),s("el-table-column",{attrs:{align:"center",width:"100",label:"照片"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{staticStyle:{left:"249px"},attrs:{trigger:"hover",placement:"right"}},[s("div",{staticClass:"popover_box"},[s("div",{staticClass:"pic-box"},[s("img",{staticClass:"pic",attrs:{src:t.row.displayImgUrl}})]),e._v(" "),s("div",{staticClass:"sepreate"},[2==t.row.auditStatus?s("div",{staticClass:"checkPicdiv"},[s("el-button",{staticClass:"butt",attrs:{type:"primary",size:"mini",round:""}},[e._v("\n                        修改头像\n                        "),s("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){e.amendUploadPic(a,t.row.personId)}}})]),e._v(" "),s("p",{staticClass:"tipPic"},[e._v("请上传正面未经ps照片")])],1):e._e()])]),e._v(" "),s("div",{attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"checkPicStatus"},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.row.displayImgUrl}})])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"personName",align:"center",width:"100",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"departmentName",width:"120",align:"center",label:"部门"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phone",align:"center",width:"200",label:"手机号 "}}),e._v(" "),s("el-table-column",{attrs:{prop:"staffNumber",width:"120",align:"center",label:"工号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"personalMail",align:"center",label:"个人邮箱"}}),e._v(" "),s("el-table-column",{attrs:{prop:"companyMail",align:"center",label:"公司邮箱"}}),e._v(" "),s("el-table-column",{attrs:{prop:"companyName",align:"center",label:"考勤地点"}}),e._v(" "),s("el-table-column",{attrs:{fixed:"right",align:"center",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.amendSpecialUser(t.row)}}},[e._v("修改")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteSpecialUser(t.row.personId)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"添加人员",visible:e.showaddSpUserDialog,width:"30%","before-close":e.addhandleClose},on:{"update:visible":function(t){e.showaddSpUserDialog=t}}},[s("div",{staticClass:"edit_table"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:e.headerPic}})]),e._v(" "),s("div",{staticClass:"btn-wrap"},[s("button",{staticClass:"btn-upload"},[e._v("\n            上传头像\n            "),s("input",{staticClass:"upload",attrs:{type:"file",accept:"image/*"},on:{change:e.uploadFile}})]),e._v(" "),s("p",{staticClass:"tip"},[e._v("请上传正脸照用于人脸识别")]),e._v(" "),e.checkedPicture?s("p",{staticClass:"checkedPic",staticStyle:{color:"#f56c6c"}},[e._v("请上传头像")]):e._e()])]),e._v(" "),s("el-form",{ref:"addSpecialUserForm",attrs:{rules:e.rules,model:e.addSpecialUserForm}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"personName"}},[s("h3",{staticClass:"title"},[e._v("员工姓名")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写姓名"},model:{value:e.addSpecialUserForm.personName,callback:function(t){e.$set(e.addSpecialUserForm,"personName",t)},expression:"addSpecialUserForm.personName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"companyName"}},[s("h3",{staticClass:"title"},[e._v("考勤地点")]),e._v(" "),s("el-select",{staticClass:"address",attrs:{disabled:1!=e.type,placeholder:"请选择考勤地点"},on:{change:e.locationChange},model:{value:e.addSpecialUserForm.companyName,callback:function(t){e.$set(e.addSpecialUserForm,"companyName",t)},expression:"addSpecialUserForm.companyName"}},e._l(e.company,function(e){return s("el-option",{key:e.companyId,attrs:{label:e.attendanceAddressName,size:"small",value:e.companyId}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"phone"}},[s("h3",{staticClass:"title"},[e._v("手机号")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写手机号"},model:{value:e.addSpecialUserForm.phone,callback:function(t){e.$set(e.addSpecialUserForm,"phone",t)},expression:"addSpecialUserForm.phone"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"companyMail"}},[s("h3",{staticClass:"title"},[e._v("公司邮箱")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写公司邮箱"},model:{value:e.addSpecialUserForm.companyMail,callback:function(t){e.$set(e.addSpecialUserForm,"companyMail",t)},expression:"addSpecialUserForm.companyMail"}})],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"staffNumber"}},[s("h3",{staticClass:"title"},[e._v("员工号")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写员工号"},model:{value:e.addSpecialUserForm.staffNumber,callback:function(t){e.$set(e.addSpecialUserForm,"staffNumber",t)},expression:"addSpecialUserForm.staffNumber"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"departmentName"}},[s("h3",{staticClass:"title"},[e._v("部门")]),e._v(" "),s("el-select",{staticClass:"address",attrs:{placeholder:"请选择部门"},on:{change:e.departmentChange},model:{value:e.addSpecialUserForm.departmentName,callback:function(t){e.$set(e.addSpecialUserForm,"departmentName",t)},expression:"addSpecialUserForm.departmentName"}},e._l(e.department,function(e){return s("el-option",{key:e.departMentId,attrs:{label:e.departmentName,size:"small",value:e.departMentId}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"personalMail"}},[s("h3",{staticClass:"title"},[e._v("个人邮箱")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写个人邮箱"},model:{value:e.addSpecialUserForm.personalMail,callback:function(t){e.$set(e.addSpecialUserForm,"personalMail",t)},expression:"addSpecialUserForm.personalMail"}})],1)],1)],1)],1)],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"cancle_btn",attrs:{size:"mini",round:""},on:{click:e.cancleAction}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.addSpecialPerson}},[e._v("添 加")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"修改人员信息",visible:e.editInfo,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editInfo=t}}},[s("div",{staticClass:"edit_table"},[s("div",{staticClass:"passMark"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:e.pic.editheaderPic}})]),e._v(" "),e.showPass?s("div",{staticClass:"div"},[s("img",{attrs:{src:a("AlRl")}})]):e._e()]),e._v(" "),s("div",{staticClass:"btn-wrap"},[s("button",{staticClass:"btn-upload"},[e._v("\n                        更换头像\n                      "),s("input",{staticClass:"upload",attrs:{type:"file",accept:"image/*"},on:{change:e.editUploadFile}})]),e._v(" "),s("p",{staticClass:"tip"},[e._v("请上传正面未经PS照片")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.checkedamendPicture,expression:"checkedamendPicture"}],staticClass:"checkedPic"},[e._v("更换头像")])])]),e._v(" "),s("el-form",{ref:"editSpecialUserForm",attrs:{rules:e.rules,model:e.editSpecialUserForm}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"personName"}},[s("h3",{staticClass:"title"},[e._v("员工姓名")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写姓名"},model:{value:e.editSpecialUserForm.personName,callback:function(t){e.$set(e.editSpecialUserForm,"personName",t)},expression:"editSpecialUserForm.personName"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"companyName"}},[s("h3",{staticClass:"title"},[e._v("考勤地点")]),e._v(" "),s("el-select",{staticClass:"address",attrs:{disabled:1!=e.type,placeholder:"请选择考勤地点"},on:{change:e.locationChangeamend},model:{value:e.editSpecialUserForm.companyName,callback:function(t){e.$set(e.editSpecialUserForm,"companyName",t)},expression:"editSpecialUserForm.companyName"}},e._l(e.company,function(e){return s("el-option",{key:e.companyId,attrs:{label:e.attendanceAddressName,size:"small",value:e.companyId}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"phone"}},[s("h3",{staticClass:"title"},[e._v("手机号")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写手机号"},model:{value:e.editSpecialUserForm.phone,callback:function(t){e.$set(e.editSpecialUserForm,"phone",t)},expression:"editSpecialUserForm.phone"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"companyMail"}},[s("h3",{staticClass:"title"},[e._v("公司邮箱")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写公司邮箱"},model:{value:e.editSpecialUserForm.companyMail,callback:function(t){e.$set(e.editSpecialUserForm,"companyMail",t)},expression:"editSpecialUserForm.companyMail"}})],1)],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",[s("h3",{staticClass:"title"},[e._v("员工号")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写员工号"},model:{value:e.editSpecialUserForm.staffNumber,callback:function(t){e.$set(e.editSpecialUserForm,"staffNumber",t)},expression:"editSpecialUserForm.staffNumber"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"departmentName"}},[s("h3",{staticClass:"title"},[e._v("部门")]),e._v(" "),s("el-select",{staticClass:"address",attrs:{placeholder:"请选择部门"},on:{change:e.departmentChangeAmend},model:{value:e.editSpecialUserForm.departmentName,callback:function(t){e.$set(e.editSpecialUserForm,"departmentName",t)},expression:"editSpecialUserForm.departmentName"}},e._l(e.department,function(e){return s("el-option",{key:e.departMentId,attrs:{label:e.departmentName,size:"small",value:e.departMentId}})}),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"personalMail"}},[s("h3",{staticClass:"title"},[e._v("个人邮箱")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写个人邮箱"},model:{value:e.editSpecialUserForm.personalMail,callback:function(t){e.$set(e.editSpecialUserForm,"personalMail",t)},expression:"editSpecialUserForm.personalMail"}})],1)],1)],1)],1)],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"cancle_btn",attrs:{size:"mini",round:""},on:{click:e.cancleEdit}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.editSpecialPerson}},[e._v("修 改")])],1)],1),e._v(" "),s("div",{staticClass:"footer"},[s("el-pagination",{staticClass:"paginator",attrs:{background:"",layout:"prev, pager, next","current-page":e.curPage,"page-size":e.pageSize,total:e.totalPage},on:{"current-change":e.getCurPage,"update:currentPage":function(t){e.curPage=t}}})],1)],1)])},staticRenderFns:[]};var g=a("C7Lr")(u,h,!1,function(e){a("97YX")},null,null);t.default=g.exports},CXCD:function(e,t){},F3CK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAMAAACknt2MAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAwFBMVEWvs7+AgICvs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs7+vs78AAADLvbXtAAAAPnRSTlMAACALCBEOPf3dGz/3iv7WFGW4btAQA1VmYxeBxYu6BwGdn/AW2FwMg5mTLg/NcW/DCnsr1+7oaLxYmh3IPh51twQAAAABYktHRD8+YzB1AAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4gwMCxQPqjpntQAAALJJREFUKM990ecSgjAQRtEsYMeuIDbsBRv2/r3/Y0lgJgbMeP+emWSTZSwRkaZTGGNGSpTmlMnm8hEVTHwrciqhXAmpKglq/MA60GhysuyWyGlzog7Q1fldP2MQ9YC+q6bBEBipiTQTYzVNpsjOiM0XS5G3Cmm9AbbBGDt5eJ/T3gcOfPjj6Sy6XANyb8HTo49K3nUHHgM1PV+eRWoS/SVpKXJGYilS5ju+FDknthQ52/oAe3soWGj6CREAAAAASUVORK5CYII="},Gari:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),n=a.n(s),i=a("J0Oq"),r=a.n(i),l=a("Vo7i"),o=a("VsUZ"),c={data:function(){return{loginName:"",showAdmin:!1}},mounted:function(){this.getType()},methods:{getType:function(){var e=this;return r()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"get",url:o.g});case 2:a=t.sent,e.loginName=a.data.data.userName,1==a.data.data.type?e.showAdmin=!0:e.showAdmin=!1;case 5:case"end":return t.stop()}},t,e)}))()},handleCommand:function(){var e=this;return r()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"post",url:o.q});case 2:t.sent,e.$router.push({name:"Login"});case 4:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper"},[s("el-container",{staticClass:"main"},[s("el-aside",{staticClass:"aside",staticStyle:{overflow:"hidden"},attrs:{width:"100px"}},[s("div",{staticClass:"menu"},[s("img",{attrs:{src:a("F3CK")}})]),e._v(" "),s("ul",[s("li",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"人员管理",placement:"right"}},[s("router-link",{attrs:{to:{name:"UserList"}}},[s("i",{staticClass:"side_icon icon-user"})])],1)],1),e._v(" "),s("li",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"特殊人员",placement:"right"}},[s("router-link",{attrs:{to:{name:"userVipList"}}},[s("i",{staticClass:"side_icon icon-special"})])],1)],1),e._v(" "),s("li",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"考勤管理",placement:"right"}},[s("router-link",{attrs:{to:{name:"testMange"}}},[s("i",{staticClass:"side_icon icon-calendar"})])],1)],1),e._v(" "),s("li",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"出入记录",placement:"right"}},[s("router-link",{attrs:{to:{name:"Access"}}},[s("i",{staticClass:"side_icon icon-access"})])],1)],1),e._v(" "),e.showAdmin?s("li",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"管理员",placement:"right"}},[s("router-link",{attrs:{to:{name:"rightAdmin"}}},[s("i",{staticClass:"side_icon icon-admin"})])],1)],1):e._e()])]),e._v(" "),s("el-container",[s("el-header",{staticClass:"top_header"},[s("div",{staticClass:"tip"},[s("img",{attrs:{src:a("iQH9")}}),e._v(" "),s("span",[e._v("伊藤忠后台管理系统")])]),e._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"tempPic"},[s("img",{attrs:{src:a("iQH9")}})]),e._v(" "),s("el-dropdown",{staticStyle:{height:"40px"},attrs:{trigger:"click"},on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[e._v("你好\n                  "+e._s(e.loginName)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[e._v("退出")])],1)],1)],1)]),e._v(" "),s("el-main",{staticClass:"content"},[s("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(c,d,!1,function(e){a("q82u"),a("KCwa")},"data-v-885feace",null);t.default=p.exports},Jqle:function(e,t){},KCwa:function(e,t){},Y3P3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfiDAsNKTN25xeHAAAB5klEQVQ4y43UX2jNYRzH8dc5OzM2F3Ox5U8kWZgbNbRiVq60yAg1opTl0p+SXJ3zKylKKRLhQrlgN9YSMdQiu0ByNVr+lJl/DaO0f2ePi+OnndlO3s/V8zyf9/Pt6fn2JII8EuYrV2bEDx99Jcrfl8qbNdporXngl6fuuerluBP/VljouEZJjPpkmnLw2ono/ETCclcsMuKGS54YllRhs90W4LgjUcgX5rltsTf2a8urX+moZhyOTuQL12zzylbPjCfhpAN+aYg6/qwEYV0YDYOhMZhwFIf2EML1UJKRkZGUtFXCLa0mJBqWltWgOjdPmm01LpuU6JFOU9TFQqUqAzoU4i5qYmG6hF4/CwpvMTOdzAlFyEoUFLKYkssk/cRsJQWFufhsNCf06VFmZUGhDs9zr53UoxNNk6fTVeplPYwvPazNsC1qJzeUehB3QSIw1R11Htvk/QTxvc4YsiNqjSswYJ+vVmixdFy41EFnpXzQGS/F7b3BJRW+OO2+Lt8Vm6PGLuv/5No1RX1jBeqdsgz9uv2QMksVgmNeOKfMTdujfsb25YxwKHSHoRDzLbSGVRkZoSkMhRCuh9LMmAo5itRaotKgdx7qjT+B9E4XlGjRPF74h/jXSO9xTpE1Kf9JdDE9qFrXb7UauKnfNQ4NAAAAAElFTkSuQmCC"},Y8cb:function(e,t){},fkxu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),n=a.n(s),i=a("J0Oq"),r=a.n(i),l=a("Vo7i"),o=a("VsUZ"),c={name:"textMange",data:function(){return{attendanceDate:"",curPage:1,pageSize:10,totalPage:0,attendanceList:[]}},created:function(){this.getAllAttendanceList(this.curPage,this.pageSize,this.attendanceDate)},methods:{getAllAttendanceList:function(e,t,a){var s=this;return r()(n.a.mark(function i(){var r,c,d,p;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={pageNum:e,pageSize:t,attendanceDate:a},n.next=3,Object(l.a)({method:"get",url:o.i},r);case 3:c=n.sent,d=c.data.data.content,p=c.data.data.total,s.attendanceList=d,s.totalPage=p;case 8:case"end":return n.stop()}},i,s)}))()},changeDate:function(){this.getAllAttendanceList(this.curPage,this.pageSize,this.attendanceDate)},getCurPage:function(e){this.curPage=e,this.getAllAttendanceList(this.curPage,this.pageSize,this.attendanceDate)},importAttendance:function(){var e=this;return r()(n.a.mark(function t(){var a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)({method:"post",url:o.o},{attendanceDate:e.attendanceDate});case 2:a=t.sent,s=a.data.data,window.location.href=s;case 5:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mange"},[s("div",{staticClass:"mange_top"},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-date-picker",{staticClass:"date",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"选择日期"},on:{change:e.changeDate},model:{value:e.attendanceDate,callback:function(t){e.attendanceDate=t},expression:"attendanceDate"}})],1),e._v(" "),s("el-col",{attrs:{align:"right",span:12}},[s("el-button",{staticClass:"import add_btn",attrs:{round:""},on:{click:e.importAttendance}},[s("img",{attrs:{src:a("4nwv")}}),e._v(" "),s("span",[e._v("批量导出")])])],1)],1)],1),e._v(" "),s("div",{staticClass:"table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.attendanceList}},[s("el-table-column",{attrs:{type:"index",align:"center",label:"编号",width:"80"}}),e._v(" "),s("el-table-column",{attrs:{prop:"personName",align:"center",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"staffNumber",align:"center",label:"员工号"}}),e._v(" "),s("el-table-column",{attrs:{prop:"departmentName",align:"center",label:"部门"}}),e._v(" "),s("el-table-column",{attrs:{prop:"signStartTime",align:"center",label:"签到时间 "}}),e._v(" "),s("el-table-column",{attrs:{prop:"signBackTime",align:"center",label:"签退时间"}}),e._v(" "),s("el-table-column",{attrs:{prop:"attendancePlace",align:"center",label:"考勤点位"}})],1),e._v(" "),s("div",{staticClass:"footer"},[s("el-pagination",{staticClass:"paginator",attrs:{background:"",layout:"prev, pager, next","current-page":e.curPage,"page-size":e.pageSize,total:e.totalPage},on:{"current-change":e.getCurPage,"update:currentPage":function(t){e.curPage=t}}})],1)],1)])},staticRenderFns:[]};var p=a("C7Lr")(c,d,!1,function(e){a("Y8cb")},null,null);t.default=p.exports},q82u:function(e,t){}});
//# sourceMappingURL=0.c2f73aa2872a5040796b.js.map